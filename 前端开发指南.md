# é«˜æ ¡å†…å®¹åˆ›ä½œè€…è¡Œä¸ºåˆ†æå¹³å° - å‰ç«¯å¼€å‘æŒ‡å—

> æŠ€æœ¯æ ˆï¼šVue 3 + TypeScript + Vite + Element Plus + Pinia + Vue Router

---

## ğŸ—ï¸ æ¨èé¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ api/                    # APIæ¥å£å°è£…
â”‚   â”œâ”€â”€ auth.ts            # è®¤è¯ç›¸å…³æ¥å£
â”‚   â”œâ”€â”€ video.ts           # è§†é¢‘ç®¡ç†æ¥å£
â”‚   â”œâ”€â”€ task.ts            # åˆ†æä»»åŠ¡æ¥å£
â”‚   â”œâ”€â”€ result.ts          # åˆ†æç»“æœæ¥å£
â”‚   â”œâ”€â”€ statistics.ts      # ç»Ÿè®¡æ•°æ®æ¥å£
â”‚   â””â”€â”€ index.ts           # APIå¯¼å‡º
â”‚
â”œâ”€â”€ assets/                 # é™æ€èµ„æº
â”‚   â”œâ”€â”€ images/
â”‚   â””â”€â”€ styles/
â”‚       â”œâ”€â”€ variables.scss # CSSå˜é‡
â”‚       â””â”€â”€ global.scss    # å…¨å±€æ ·å¼
â”‚
â”œâ”€â”€ components/             # é€šç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ layout/            # å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ AppHeader.vue
â”‚   â”‚   â”œâ”€â”€ AppSidebar.vue
â”‚   â”‚   â””â”€â”€ AppLayout.vue
â”‚   â”œâ”€â”€ common/            # å…¬å…±ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ PageHeader.vue
â”‚   â”‚   â”œâ”€â”€ EmptyState.vue
â”‚   â”‚   â””â”€â”€ LoadingState.vue
â”‚   â”œâ”€â”€ video/             # è§†é¢‘ç›¸å…³ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ VideoUploader.vue
â”‚   â”‚   â”œâ”€â”€ VideoCard.vue
â”‚   â”‚   â””â”€â”€ VideoPlayer.vue
â”‚   â”œâ”€â”€ task/              # ä»»åŠ¡ç›¸å…³ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ TaskCard.vue
â”‚   â”‚   â”œâ”€â”€ TaskProgress.vue
â”‚   â”‚   â””â”€â”€ TaskStatusTag.vue
â”‚   â””â”€â”€ result/            # ç»“æœç›¸å…³ç»„ä»¶
â”‚       â”œâ”€â”€ ResultCard.vue
â”‚       â”œâ”€â”€ RiskGauge.vue
â”‚       â”œâ”€â”€ SentimentChart.vue
â”‚       â””â”€â”€ AudienceChart.vue
â”‚
â”œâ”€â”€ composables/            # ç»„åˆå¼å‡½æ•°
â”‚   â”œâ”€â”€ useWebSocket.ts    # WebSocketè¿æ¥
â”‚   â”œâ”€â”€ useUpload.ts       # æ–‡ä»¶ä¸Šä¼ 
â”‚   â”œâ”€â”€ useAuth.ts         # è®¤è¯ç›¸å…³
â”‚   â””â”€â”€ useNotification.ts # é€šçŸ¥æç¤º
â”‚
â”œâ”€â”€ router/                 # è·¯ç”±é…ç½®
â”‚   â””â”€â”€ index.ts
â”‚
â”œâ”€â”€ stores/                 # PiniaçŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ auth.ts            # ç”¨æˆ·è®¤è¯çŠ¶æ€
â”‚   â”œâ”€â”€ video.ts           # è§†é¢‘åˆ—è¡¨çŠ¶æ€
â”‚   â”œâ”€â”€ task.ts            # ä»»åŠ¡åˆ—è¡¨çŠ¶æ€
â”‚   â””â”€â”€ notification.ts    # é€šçŸ¥çŠ¶æ€
â”‚
â”œâ”€â”€ types/                  # TypeScriptç±»å‹å®šä¹‰
â”‚   â””â”€â”€ index.ts           # ä» å‰ç«¯ç±»å‹å®šä¹‰.ts å¤åˆ¶
â”‚
â”œâ”€â”€ utils/                  # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ request.ts         # Axioså°è£…
â”‚   â”œâ”€â”€ storage.ts         # æœ¬åœ°å­˜å‚¨
â”‚   â”œâ”€â”€ format.ts          # æ ¼å¼åŒ–å‡½æ•°
â”‚   â””â”€â”€ md5.ts             # MD5è®¡ç®—
â”‚
â”œâ”€â”€ views/                  # é¡µé¢è§†å›¾
â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â”œâ”€â”€ LoginView.vue
â”‚   â”‚   â””â”€â”€ RegisterView.vue
â”‚   â”œâ”€â”€ dashboard/
â”‚   â”‚   â””â”€â”€ DashboardView.vue
â”‚   â”œâ”€â”€ video/
â”‚   â”‚   â”œâ”€â”€ VideoListView.vue
â”‚   â”‚   â”œâ”€â”€ VideoUploadView.vue
â”‚   â”‚   â””â”€â”€ VideoDetailView.vue
â”‚   â”œâ”€â”€ task/
â”‚   â”‚   â”œâ”€â”€ TaskListView.vue
â”‚   â”‚   â””â”€â”€ TaskDetailView.vue
â”‚   â””â”€â”€ result/
â”‚       â”œâ”€â”€ ResultListView.vue
â”‚       â””â”€â”€ ResultDetailView.vue
â”‚
â”œâ”€â”€ App.vue
â””â”€â”€ main.ts
```

---

## ğŸ¨ UIè®¾è®¡å»ºè®®

### é…è‰²æ–¹æ¡ˆ

```scss
// ä¸»è‰²è°ƒ - ç§‘æŠ€è“
$primary-color: #409EFF;
$primary-light: #66B1FF;
$primary-dark: #337ECC;

// åŠŸèƒ½è‰²
$success-color: #67C23A;  // æˆåŠŸ/ä½é£é™©
$warning-color: #E6A23C;  // è­¦å‘Š/ä¸­é£é™©
$danger-color: #F56C6C;   // å±é™©/é«˜é£é™©
$info-color: #909399;     // ä¿¡æ¯/ä¸­æ€§

// èƒŒæ™¯è‰²
$bg-color: #F5F7FA;
$bg-card: #FFFFFF;
$bg-dark: #1A1A2E;

// æ–‡å­—è‰²
$text-primary: #303133;
$text-regular: #606266;
$text-secondary: #909399;
```

### é£é™©ç­‰çº§é…è‰²

```scss
// é£é™©ç­‰çº§é¢œè‰²
$risk-low: #67C23A;      // ä½é£é™© - ç»¿è‰²
$risk-medium: #E6A23C;   // ä¸­é£é™© - æ©™è‰²
$risk-high: #F56C6C;     // é«˜é£é™© - çº¢è‰²

// é£é™©ç­‰çº§æ¸å˜èƒŒæ™¯
$risk-low-bg: linear-gradient(135deg, #67C23A20, #67C23A10);
$risk-medium-bg: linear-gradient(135deg, #E6A23C20, #E6A23C10);
$risk-high-bg: linear-gradient(135deg, #F56C6C20, #F56C6C10);
```

---

## ğŸ“„ é¡µé¢è®¾è®¡å‚è€ƒ

### 1. ç™»å½•é¡µ (LoginView.vue)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                            â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚    â”‚                    â”‚    â”‚                      â”‚     â”‚
â”‚    â”‚    èƒŒæ™¯è£…é¥°å›¾      â”‚    â”‚   é«˜æ ¡å†…å®¹åˆ›ä½œè€…     â”‚     â”‚
â”‚    â”‚    ï¼ˆæ¸å˜æˆ–æ’ç”»ï¼‰  â”‚    â”‚   è¡Œä¸ºåˆ†æå¹³å°       â”‚     â”‚
â”‚    â”‚                    â”‚    â”‚                      â”‚     â”‚
â”‚    â”‚                    â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚     â”‚
â”‚    â”‚                    â”‚    â”‚  â”‚ ç”¨æˆ·å         â”‚  â”‚     â”‚
â”‚    â”‚                    â”‚    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚     â”‚
â”‚    â”‚                    â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚     â”‚
â”‚    â”‚                    â”‚    â”‚  â”‚ å¯†ç            â”‚  â”‚     â”‚
â”‚    â”‚                    â”‚    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚     â”‚
â”‚    â”‚                    â”‚    â”‚                      â”‚     â”‚
â”‚    â”‚                    â”‚    â”‚  [    ç™»  å½•    ]    â”‚     â”‚
â”‚    â”‚                    â”‚    â”‚                      â”‚     â”‚
â”‚    â”‚                    â”‚    â”‚  æ²¡æœ‰è´¦å·ï¼Ÿç«‹å³æ³¨å†Œ  â”‚     â”‚
â”‚    â”‚                    â”‚    â”‚                      â”‚     â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. å·¥ä½œå° (DashboardView.vue)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ä¾§è¾¹æ   â”‚                    ä¸»å†…å®¹åŒº                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚          â”‚                                                  â”‚
â”‚  ğŸ“Š å·¥ä½œå°â”‚  â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  ğŸ“ è§†é¢‘  â”‚  â”‚æ€»è§†é¢‘â”‚ â”‚å·²åˆ†æâ”‚ â”‚é«˜é£é™©â”‚ â”‚ä»Šæ—¥ä¸Šä¼ â”‚         â”‚
â”‚  ğŸ“‹ ä»»åŠ¡  â”‚  â”‚  20  â”‚ â”‚  15  â”‚ â”‚  2   â”‚ â”‚  3   â”‚           â”‚
â”‚  ğŸ“ˆ ç»“æœ  â”‚  â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚          â”‚                                                  â”‚
â”‚          â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚          â”‚  â”‚                     â”‚ â”‚                     â”‚â”‚
â”‚          â”‚  â”‚   ä¸Šä¼ è¶‹åŠ¿å›¾        â”‚ â”‚   é£é™©åˆ†å¸ƒå›¾        â”‚â”‚
â”‚          â”‚  â”‚   (æŠ˜çº¿å›¾)          â”‚ â”‚   (é¥¼å›¾)            â”‚â”‚
â”‚          â”‚  â”‚                     â”‚ â”‚                     â”‚â”‚
â”‚          â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚          â”‚                                                  â”‚
â”‚          â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚          â”‚  â”‚              æœ€è¿‘åˆ†æç»“æœ                   â”‚â”‚
â”‚          â”‚  â”‚  è§†é¢‘æ ‡é¢˜    é£é™©ç­‰çº§    æƒ…æ„Ÿ    åˆ›å»ºæ—¶é—´   â”‚â”‚
â”‚          â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚â”‚
â”‚          â”‚  â”‚  è§†é¢‘1       ä½é£é™©      æ­£é¢    10åˆ†é’Ÿå‰   â”‚â”‚
â”‚          â”‚  â”‚  è§†é¢‘2       ä¸­é£é™©      ä¸­æ€§    1å°æ—¶å‰    â”‚â”‚
â”‚          â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚          â”‚                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. è§†é¢‘ä¸Šä¼ é¡µ (VideoUploadView.vue)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è§†é¢‘ä¸Šä¼                                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                                                     â”‚   â”‚
â”‚  â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚   â”‚
â”‚  â”‚            â”‚                       â”‚                â”‚   â”‚
â”‚  â”‚            â”‚    ğŸ“ ç‚¹å‡»æˆ–æ‹–æ‹½      â”‚                â”‚   â”‚
â”‚  â”‚            â”‚    ä¸Šä¼ è§†é¢‘æ–‡ä»¶       â”‚                â”‚   â”‚
â”‚  â”‚            â”‚                       â”‚                â”‚   â”‚
â”‚  â”‚            â”‚  æ”¯æŒ mp4, avi, mov   â”‚                â”‚   â”‚
â”‚  â”‚            â”‚    æœ€å¤§ 500MB         â”‚                â”‚   â”‚
â”‚  â”‚            â”‚                       â”‚                â”‚   â”‚
â”‚  â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚   â”‚
â”‚  â”‚                                                     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚  ä¸Šä¼ ä¸­ï¼š                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  è§†é¢‘æ–‡ä»¶.mp4                                        â”‚   â”‚
â”‚  â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  65%   12.5MB/s           â”‚   â”‚
â”‚  â”‚                                                     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4. ä»»åŠ¡è¯¦æƒ…é¡µ (TaskDetailView.vue)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  < è¿”å›    ä»»åŠ¡è¯¦æƒ…                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  è§†é¢‘ä¿¡æ¯                                            â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  æ ‡é¢˜ï¼šæµ‹è¯•è§†é¢‘.mp4                    â”‚   â”‚
â”‚  â”‚  â”‚          â”‚  å¤§å°ï¼š125.5 MB                        â”‚   â”‚
â”‚  â”‚  â”‚ è§†é¢‘ç¼©ç•¥ â”‚  ä¸Šä¼ æ—¶é—´ï¼š2024-01-15 10:30            â”‚   â”‚
â”‚  â”‚  â”‚          â”‚                                        â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  åˆ†æè¿›åº¦                               çŠ¶æ€: å¤„ç†ä¸­  â”‚   â”‚
â”‚  â”‚                                                     â”‚   â”‚
â”‚  â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  60%        â”‚   â”‚
â”‚  â”‚                                                     â”‚   â”‚
â”‚  â”‚  âœ“ è§†é¢‘é¢„å¤„ç†å®Œæˆ                                   â”‚   â”‚
â”‚  â”‚  âœ“ è§†é¢‘ç‰¹å¾æå–å®Œæˆ                                 â”‚   â”‚
â”‚  â”‚  â—‰ éŸ³é¢‘åˆ†æä¸­...                                    â”‚   â”‚
â”‚  â”‚  â—‹ æ–‡æœ¬åˆ†æ                                         â”‚   â”‚
â”‚  â”‚  â—‹ ç»¼åˆè¯„ä¼°                                         â”‚   â”‚
â”‚  â”‚                                                     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚  é¢„è®¡å®Œæˆæ—¶é—´ï¼šçº¦ 2 åˆ†é’Ÿ                                    â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5. åˆ†æç»“æœè¯¦æƒ…é¡µ (ResultDetailView.vue)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  < è¿”å›    åˆ†æç»“æœ                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                     â”‚  â”‚  ç»¼åˆé£é™©è¯„ä¼°               â”‚  â”‚
â”‚  â”‚    è§†é¢‘æ’­æ”¾å™¨       â”‚  â”‚                             â”‚  â”‚
â”‚  â”‚                     â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚  â”‚
â”‚  â”‚    [â–¶ï¸ æ’­æ”¾]         â”‚  â”‚  â”‚                   â”‚      â”‚  â”‚
â”‚  â”‚                     â”‚  â”‚  â”‚   é£é™©å·¥ä½œå°      â”‚      â”‚  â”‚
â”‚  â”‚                     â”‚  â”‚  â”‚    35% ä¸­é£é™©     â”‚      â”‚  â”‚
â”‚  â”‚                     â”‚  â”‚  â”‚                   â”‚      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚  â”‚
â”‚                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  å¤šç»´åº¦åˆ†æç»“æœ                                      â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚                                                     â”‚   â”‚
â”‚  â”‚  ğŸ“ é«˜æ ¡è¯†åˆ«        ğŸ·ï¸ ä¸»é¢˜åˆ†ç±»       ğŸ˜Š æƒ…æ„Ÿåˆ†æ    â”‚   â”‚
â”‚  â”‚  âœ“ é«˜æ ¡ç›¸å…³         æ ¡å›­ç”Ÿæ´»          æ­£é¢ (72%)    â”‚   â”‚
â”‚  â”‚  æ¸…åå¤§å­¦ (92%)     å…³é”®è¯: å­¦ä¹ ,     æƒ…æ„Ÿåˆ†æ•°:     â”‚   â”‚
â”‚  â”‚                     æ ¡å›­, é’æ˜¥...     0.45          â”‚   â”‚
â”‚  â”‚                                                     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ è§†é¢‘ç‰¹å¾    â”‚ â”‚ éŸ³é¢‘ç‰¹å¾    â”‚ â”‚ å—ä¼—é¢„æµ‹            â”‚   â”‚
â”‚  â”‚             â”‚ â”‚             â”‚ â”‚                     â”‚   â”‚
â”‚  â”‚ åœºæ™¯: æ•™å®¤  â”‚ â”‚ è¯­éŸ³å æ¯”:   â”‚ â”‚ å¹´é¾„åˆ†å¸ƒé¥¼å›¾        â”‚   â”‚
â”‚  â”‚ äººæ•°: 3     â”‚ â”‚   65%       â”‚ â”‚ é¢„è®¡æ’­æ”¾: 5000      â”‚   â”‚
â”‚  â”‚ æ¸…æ™°åº¦: 92% â”‚ â”‚ éŸ³è´¨: 78%   â”‚ â”‚ äº’åŠ¨ç‡: 8%          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  è¯­éŸ³è½¬æ–‡å­—                                          â”‚   â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚   â”‚
â”‚  â”‚  å¤§å®¶å¥½ï¼Œä»Šå¤©æˆ‘æ¥åˆ†äº«ä¸€ä¸‹åœ¨å¤§å­¦çš„å­¦ä¹ ç»éªŒ...         â”‚   â”‚
â”‚  â”‚                                                     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”Œ Axioså°è£…ç¤ºä¾‹

### utils/request.ts

```typescript
import axios, { AxiosInstance, AxiosRequestConfig, AxiosResponse } from 'axios';
import { ElMessage, ElMessageBox } from 'element-plus';
import { useAuthStore } from '@/stores/auth';
import router from '@/router';
import type { Result } from '@/types';

// åˆ›å»ºaxioså®ä¾‹
const service: AxiosInstance = axios.create({
  baseURL: import.meta.env.VITE_API_BASE_URL || 'http://root-springboot3-1:8081',
  timeout: 30000,
  headers: {
    'Content-Type': 'application/json',
  },
});

// è¯·æ±‚æ‹¦æˆªå™¨
service.interceptors.request.use(
  (config) => {
    const authStore = useAuthStore();
    if (authStore.token) {
      config.headers.Authorization = `Bearer ${authStore.token}`;
    }
    return config;
  },
  (error) => {
    console.error('è¯·æ±‚é”™è¯¯:', error);
    return Promise.reject(error);
  }
);

// å“åº”æ‹¦æˆªå™¨
service.interceptors.response.use(
  (response: AxiosResponse<Result>) => {
    const res = response.data;
    
    // æˆåŠŸ
    if (res.code === 200) {
      return res;
    }
    
    // ä¸šåŠ¡é”™è¯¯
    ElMessage.error(res.message || 'è¯·æ±‚å¤±è´¥');
    return Promise.reject(new Error(res.message || 'è¯·æ±‚å¤±è´¥'));
  },
  (error) => {
    if (error.response) {
      const status = error.response.status;
      
      switch (status) {
        case 401:
          // Tokenè¿‡æœŸæˆ–æœªè®¤è¯
          ElMessageBox.confirm('ç™»å½•å·²è¿‡æœŸï¼Œè¯·é‡æ–°ç™»å½•', 'æç¤º', {
            confirmButtonText: 'é‡æ–°ç™»å½•',
            cancelButtonText: 'å–æ¶ˆ',
            type: 'warning',
          }).then(() => {
            const authStore = useAuthStore();
            authStore.logout();
            router.push('/login');
          });
          break;
        case 403:
          ElMessage.error('æ²¡æœ‰æƒé™è®¿é—®');
          break;
        case 404:
          ElMessage.error('è¯·æ±‚çš„èµ„æºä¸å­˜åœ¨');
          break;
        case 500:
          ElMessage.error('æœåŠ¡å™¨é”™è¯¯ï¼Œè¯·ç¨åé‡è¯•');
          break;
        default:
          ElMessage.error(error.response.data?.message || 'è¯·æ±‚å¤±è´¥');
      }
    } else if (error.message.includes('timeout')) {
      ElMessage.error('è¯·æ±‚è¶…æ—¶ï¼Œè¯·æ£€æŸ¥ç½‘ç»œ');
    } else {
      ElMessage.error('ç½‘ç»œé”™è¯¯ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥');
    }
    
    return Promise.reject(error);
  }
);

// å°è£…è¯·æ±‚æ–¹æ³•
export const http = {
  get<T = any>(url: string, config?: AxiosRequestConfig): Promise<Result<T>> {
    return service.get(url, config);
  },
  
  post<T = any>(url: string, data?: any, config?: AxiosRequestConfig): Promise<Result<T>> {
    return service.post(url, data, config);
  },
  
  put<T = any>(url: string, data?: any, config?: AxiosRequestConfig): Promise<Result<T>> {
    return service.put(url, data, config);
  },
  
  delete<T = any>(url: string, config?: AxiosRequestConfig): Promise<Result<T>> {
    return service.delete(url, config);
  },
  
  upload<T = any>(url: string, formData: FormData, onProgress?: (percent: number) => void): Promise<Result<T>> {
    return service.post(url, formData, {
      headers: {
        'Content-Type': 'multipart/form-data',
      },
      onUploadProgress: (progressEvent) => {
        if (onProgress && progressEvent.total) {
          const percent = Math.round((progressEvent.loaded * 100) / progressEvent.total);
          onProgress(percent);
        }
      },
    });
  },
};

export default service;
```

---

## ğŸ”„ WebSocketå°è£…ç¤ºä¾‹

### composables/useWebSocket.ts

```typescript
import { ref, onMounted, onUnmounted } from 'vue';
import { useAuthStore } from '@/stores/auth';
import type { WSMessage, TaskProgressData, TaskCompletedData, TaskFailedData } from '@/types';

export function useWebSocket() {
  const authStore = useAuthStore();
  const ws = ref<WebSocket | null>(null);
  const isConnected = ref(false);
  const reconnectCount = ref(0);
  const maxReconnect = 5;
  
  // äº‹ä»¶å›è°ƒ
  const onTaskProgress = ref<((data: TaskProgressData) => void) | null>(null);
  const onTaskCompleted = ref<((data: TaskCompletedData) => void) | null>(null);
  const onTaskFailed = ref<((data: TaskFailedData) => void) | null>(null);
  
  // è¿æ¥WebSocket
  function connect() {
    if (!authStore.userId) {
      console.warn('ç”¨æˆ·æœªç™»å½•ï¼Œæ— æ³•è¿æ¥WebSocket');
      return;
    }
    
    const wsUrl = `ws://root-springboot3-1:8081/ws/task-progress/${authStore.userId}`;
    ws.value = new WebSocket(wsUrl);
    
    ws.value.onopen = () => {
      console.log('WebSocketè¿æ¥æˆåŠŸ');
      isConnected.value = true;
      reconnectCount.value = 0;
      startHeartbeat();
    };
    
    ws.value.onmessage = (event) => {
      try {
        const message: WSMessage = JSON.parse(event.data);
        handleMessage(message);
      } catch (e) {
        // å¯èƒ½æ˜¯å¿ƒè·³å“åº”
        if (event.data === 'pong') {
          console.debug('æ”¶åˆ°å¿ƒè·³å“åº”');
        }
      }
    };
    
    ws.value.onclose = () => {
      console.log('WebSocketè¿æ¥å…³é—­');
      isConnected.value = false;
      stopHeartbeat();
      attemptReconnect();
    };
    
    ws.value.onerror = (error) => {
      console.error('WebSocketé”™è¯¯:', error);
    };
  }
  
  // å¤„ç†æ¶ˆæ¯
  function handleMessage(message: WSMessage) {
    switch (message.type) {
      case 'connected':
        console.log('WebSocketè¿æ¥ç¡®è®¤');
        break;
        
      case 'task_progress':
        if (onTaskProgress.value && message.data) {
          onTaskProgress.value(message.data as TaskProgressData);
        }
        break;
        
      case 'task_completed':
        if (onTaskCompleted.value && message.data) {
          onTaskCompleted.value(message.data as TaskCompletedData);
        }
        break;
        
      case 'task_failed':
        if (onTaskFailed.value && message.data) {
          onTaskFailed.value(message.data as TaskFailedData);
        }
        break;
    }
  }
  
  // å¿ƒè·³å®šæ—¶å™¨
  let heartbeatTimer: ReturnType<typeof setInterval> | null = null;
  
  function startHeartbeat() {
    heartbeatTimer = setInterval(() => {
      if (ws.value && ws.value.readyState === WebSocket.OPEN) {
        ws.value.send('ping');
      }
    }, 30000);
  }
  
  function stopHeartbeat() {
    if (heartbeatTimer) {
      clearInterval(heartbeatTimer);
      heartbeatTimer = null;
    }
  }
  
  // é‡è¿
  function attemptReconnect() {
    if (reconnectCount.value < maxReconnect) {
      reconnectCount.value++;
      console.log(`å°è¯•é‡è¿ (${reconnectCount.value}/${maxReconnect})...`);
      setTimeout(connect, 3000 * reconnectCount.value);
    } else {
      console.error('WebSocketé‡è¿å¤±è´¥ï¼Œå·²è¾¾æœ€å¤§é‡è¯•æ¬¡æ•°');
    }
  }
  
  // æ–­å¼€è¿æ¥
  function disconnect() {
    stopHeartbeat();
    if (ws.value) {
      ws.value.close();
      ws.value = null;
    }
  }
  
  // ç”Ÿå‘½å‘¨æœŸ
  onMounted(() => {
    if (authStore.isLoggedIn) {
      connect();
    }
  });
  
  onUnmounted(() => {
    disconnect();
  });
  
  return {
    isConnected,
    connect,
    disconnect,
    onTaskProgress,
    onTaskCompleted,
    onTaskFailed,
  };
}
```

---

## ğŸ“¤ åˆ†ç‰‡ä¸Šä¼ å°è£…ç¤ºä¾‹

### composables/useUpload.ts

```typescript
import { ref } from 'vue';
import SparkMD5 from 'spark-md5';
import { http } from '@/utils/request';
import type { ChunkCheckResult, VideoVO } from '@/types';

const CHUNK_SIZE = 5 * 1024 * 1024; // 5MB

export function useUpload() {
  const uploading = ref(false);
  const progress = ref(0);
  const speed = ref('0 MB/s');
  const currentFile = ref<File | null>(null);
  
  // è®¡ç®—æ–‡ä»¶MD5
  async function calculateMD5(file: File): Promise<string> {
    return new Promise((resolve, reject) => {
      const spark = new SparkMD5.ArrayBuffer();
      const reader = new FileReader();
      const chunks = Math.ceil(file.size / CHUNK_SIZE);
      let currentChunk = 0;
      
      reader.onload = (e) => {
        if (e.target?.result) {
          spark.append(e.target.result as ArrayBuffer);
          currentChunk++;
          
          if (currentChunk < chunks) {
            loadNextChunk();
          } else {
            resolve(spark.end());
          }
        }
      };
      
      reader.onerror = () => reject(new Error('æ–‡ä»¶è¯»å–å¤±è´¥'));
      
      function loadNextChunk() {
        const start = currentChunk * CHUNK_SIZE;
        const end = Math.min(start + CHUNK_SIZE, file.size);
        reader.readAsArrayBuffer(file.slice(start, end));
      }
      
      loadNextChunk();
    });
  }
  
  // ä¸Šä¼ æ–‡ä»¶
  async function uploadFile(file: File, title?: string, description?: string): Promise<VideoVO> {
    currentFile.value = file;
    uploading.value = true;
    progress.value = 0;
    
    try {
      // å°æ–‡ä»¶ç›´æ¥ä¸Šä¼ 
      if (file.size <= CHUNK_SIZE) {
        return await simpleUpload(file, title, description);
      }
      
      // å¤§æ–‡ä»¶åˆ†ç‰‡ä¸Šä¼ 
      return await chunkUpload(file, title, description);
    } finally {
      uploading.value = false;
      currentFile.value = null;
    }
  }
  
  // ç®€å•ä¸Šä¼ 
  async function simpleUpload(file: File, title?: string, description?: string): Promise<VideoVO> {
    const formData = new FormData();
    formData.append('file', file);
    if (title) formData.append('title', title);
    if (description) formData.append('description', description);
    
    const res = await http.upload<VideoVO>('/api/video/upload', formData, (percent) => {
      progress.value = percent;
    });
    
    return res.data;
  }
  
  // åˆ†ç‰‡ä¸Šä¼ 
  async function chunkUpload(file: File, title?: string, description?: string): Promise<VideoVO> {
    const fileIdentifier = await calculateMD5(file);
    const totalChunks = Math.ceil(file.size / CHUNK_SIZE);
    
    // 1. æ£€æŸ¥å·²ä¸Šä¼ çš„åˆ†ç‰‡
    const checkRes = await http.get<ChunkCheckResult>('/api/video/check-chunk', {
      params: {
        fileIdentifier,
        fileName: file.name,
        totalChunks,
      },
    });
    
    // ç§’ä¼ æˆåŠŸ
    if (!checkRes.data.needUpload && checkRes.data.finished) {
      progress.value = 100;
      return { id: checkRes.data.videoId!, videoUrl: checkRes.data.videoUrl! } as VideoVO;
    }
    
    const uploadedChunks = checkRes.data.uploadedChunks || [];
    let completedChunks = uploadedChunks.length;
    const startTime = Date.now();
    let uploadedBytes = completedChunks * CHUNK_SIZE;
    
    // 2. ä¸Šä¼ æœªå®Œæˆçš„åˆ†ç‰‡
    for (let i = 1; i <= totalChunks; i++) {
      if (uploadedChunks.includes(i)) continue;
      
      const start = (i - 1) * CHUNK_SIZE;
      const end = Math.min(start + CHUNK_SIZE, file.size);
      const chunk = file.slice(start, end);
      
      const formData = new FormData();
      formData.append('chunk', chunk);
      formData.append('fileIdentifier', fileIdentifier);
      formData.append('fileName', file.name);
      formData.append('chunkNumber', String(i));
      formData.append('totalChunks', String(totalChunks));
      formData.append('chunkSize', String(chunk.size));
      formData.append('totalSize', String(file.size));
      if (title) formData.append('title', title);
      if (description) formData.append('description', description);
      
      const res = await http.upload<ChunkCheckResult>('/api/video/upload-chunk', formData);
      
      completedChunks++;
      uploadedBytes += chunk.size;
      progress.value = Math.round((completedChunks / totalChunks) * 100);
      
      // è®¡ç®—é€Ÿåº¦
      const elapsedSeconds = (Date.now() - startTime) / 1000;
      const bytesPerSecond = uploadedBytes / elapsedSeconds;
      speed.value = formatSpeed(bytesPerSecond);
      
      if (res.data.finished) {
        progress.value = 100;
        return { id: res.data.videoId!, videoUrl: res.data.videoUrl! } as VideoVO;
      }
    }
    
    throw new Error('ä¸Šä¼ å¤±è´¥');
  }
  
  function formatSpeed(bytesPerSecond: number): string {
    if (bytesPerSecond >= 1024 * 1024) {
      return `${(bytesPerSecond / (1024 * 1024)).toFixed(1)} MB/s`;
    }
    return `${(bytesPerSecond / 1024).toFixed(1)} KB/s`;
  }
  
  return {
    uploading,
    progress,
    speed,
    currentFile,
    uploadFile,
  };
}
```

---

## ğŸ›£ï¸ è·¯ç”±é…ç½®ç¤ºä¾‹

### router/index.ts

```typescript
import { createRouter, createWebHistory } from 'vue-router';
import { useAuthStore } from '@/stores/auth';

const routes = [
  {
    path: '/login',
    name: 'Login',
    component: () => import('@/views/auth/LoginView.vue'),
    meta: { requiresAuth: false },
  },
  {
    path: '/register',
    name: 'Register',
    component: () => import('@/views/auth/RegisterView.vue'),
    meta: { requiresAuth: false },
  },
  {
    path: '/',
    redirect: '/dashboard',
  },
  {
    path: '/dashboard',
    name: 'Dashboard',
    component: () => import('@/views/dashboard/DashboardView.vue'),
    meta: { requiresAuth: true, title: 'å·¥ä½œå°' },
  },
  {
    path: '/videos',
    name: 'VideoList',
    component: () => import('@/views/video/VideoListView.vue'),
    meta: { requiresAuth: true, title: 'æˆ‘çš„è§†é¢‘' },
  },
  {
    path: '/videos/upload',
    name: 'VideoUpload',
    component: () => import('@/views/video/VideoUploadView.vue'),
    meta: { requiresAuth: true, title: 'ä¸Šä¼ è§†é¢‘' },
  },
  {
    path: '/videos/:id',
    name: 'VideoDetail',
    component: () => import('@/views/video/VideoDetailView.vue'),
    meta: { requiresAuth: true, title: 'è§†é¢‘è¯¦æƒ…' },
  },
  {
    path: '/tasks',
    name: 'TaskList',
    component: () => import('@/views/task/TaskListView.vue'),
    meta: { requiresAuth: true, title: 'åˆ†æä»»åŠ¡' },
  },
  {
    path: '/tasks/:id',
    name: 'TaskDetail',
    component: () => import('@/views/task/TaskDetailView.vue'),
    meta: { requiresAuth: true, title: 'ä»»åŠ¡è¯¦æƒ…' },
  },
  {
    path: '/results',
    name: 'ResultList',
    component: () => import('@/views/result/ResultListView.vue'),
    meta: { requiresAuth: true, title: 'åˆ†æç»“æœ' },
  },
  {
    path: '/results/:id',
    name: 'ResultDetail',
    component: () => import('@/views/result/ResultDetailView.vue'),
    meta: { requiresAuth: true, title: 'ç»“æœè¯¦æƒ…' },
  },
];

const router = createRouter({
  history: createWebHistory(),
  routes,
});

// è·¯ç”±å®ˆå«
router.beforeEach((to, from, next) => {
  const authStore = useAuthStore();
  
  if (to.meta.requiresAuth && !authStore.isLoggedIn) {
    next({ name: 'Login', query: { redirect: to.fullPath } });
  } else if ((to.name === 'Login' || to.name === 'Register') && authStore.isLoggedIn) {
    next({ name: 'Dashboard' });
  } else {
    next();
  }
});

export default router;
```

---

## ğŸ“Š å¯è§†åŒ–å›¾è¡¨å»ºè®®

### ECharts é…ç½®ç¤ºä¾‹

#### é£é™©å·¥ä½œå°

```typescript
const gaugeOption = {
  series: [{
    type: 'gauge',
    startAngle: 180,
    endAngle: 0,
    min: 0,
    max: 100,
    splitNumber: 10,
    axisLine: {
      lineStyle: {
        width: 20,
        color: [
          [0.3, '#67C23A'],  // ä½é£é™©
          [0.7, '#E6A23C'],  // ä¸­é£é™©
          [1, '#F56C6C']     // é«˜é£é™©
        ]
      }
    },
    pointer: {
      itemStyle: { color: 'auto' }
    },
    detail: {
      formatter: '{value}%',
      fontSize: 24
    },
    data: [{ value: 35, name: 'é£é™©è¯„åˆ†' }]
  }]
};
```

#### é£é™©åˆ†å¸ƒé¥¼å›¾

```typescript
const pieOption = {
  tooltip: { trigger: 'item' },
  legend: { orient: 'vertical', left: 'left' },
  series: [{
    type: 'pie',
    radius: ['40%', '70%'],
    data: [
      { value: 8, name: 'ä½é£é™©', itemStyle: { color: '#67C23A' } },
      { value: 5, name: 'ä¸­é£é™©', itemStyle: { color: '#E6A23C' } },
      { value: 2, name: 'é«˜é£é™©', itemStyle: { color: '#F56C6C' } }
    ]
  }]
};
```

#### ä¸Šä¼ è¶‹åŠ¿æŠ˜çº¿å›¾

```typescript
const lineOption = {
  xAxis: {
    type: 'category',
    data: ['01-09', '01-10', '01-11', '01-12', '01-13', '01-14', '01-15']
  },
  yAxis: { type: 'value' },
  series: [{
    data: [3, 5, 2, 0, 4, 1, 3],
    type: 'line',
    smooth: true,
    areaStyle: { opacity: 0.3 }
  }]
};
```

---

## âœ… å¼€å‘æ£€æŸ¥æ¸…å•

### ç™»å½•æ³¨å†Œ
- [ ] ç™»å½•è¡¨å•éªŒè¯
- [ ] æ³¨å†Œè¡¨å•éªŒè¯
- [ ] éªŒè¯ç å‘é€å’Œå€’è®¡æ—¶
- [ ] Tokenå­˜å‚¨å’Œè‡ªåŠ¨æºå¸¦
- [ ] ç™»å½•çŠ¶æ€æŒä¹…åŒ–

### è§†é¢‘ç®¡ç†
- [ ] è§†é¢‘åˆ—è¡¨åˆ†é¡µ
- [ ] è§†é¢‘å¡ç‰‡å±•ç¤º
- [ ] å°æ–‡ä»¶ç›´æ¥ä¸Šä¼ 
- [ ] å¤§æ–‡ä»¶åˆ†ç‰‡ä¸Šä¼ 
- [ ] ä¸Šä¼ è¿›åº¦æ˜¾ç¤º
- [ ] æ–­ç‚¹ç»­ä¼ æ”¯æŒ
- [ ] è§†é¢‘åˆ é™¤ç¡®è®¤

### åˆ†æä»»åŠ¡
- [ ] åˆ›å»ºåˆ†æä»»åŠ¡
- [ ] ä»»åŠ¡åˆ—è¡¨å±•ç¤º
- [ ] ä»»åŠ¡çŠ¶æ€æ ‡ç­¾
- [ ] å®æ—¶è¿›åº¦æ›´æ–°ï¼ˆWebSocketï¼‰
- [ ] ä»»åŠ¡å–æ¶ˆ/é‡è¯•

### åˆ†æç»“æœ
- [ ] ç»“æœåˆ—è¡¨å±•ç¤º
- [ ] ç»“æœè¯¦æƒ…é¡µ
- [ ] é£é™©å·¥ä½œå°
- [ ] å¤šç»´åº¦åˆ†æå±•ç¤º
- [ ] å›¾è¡¨å¯è§†åŒ–

### å·¥ä½œå°
- [ ] ç»Ÿè®¡å¡ç‰‡
- [ ] ä¸Šä¼ è¶‹åŠ¿å›¾
- [ ] é£é™©åˆ†å¸ƒå›¾
- [ ] æœ€è¿‘ç»“æœåˆ—è¡¨

### é€šç”¨åŠŸèƒ½
- [ ] å…¨å±€åŠ è½½çŠ¶æ€
- [ ] é”™è¯¯å¤„ç†å’Œæç¤º
- [ ] ç©ºçŠ¶æ€å±•ç¤º
- [ ] å“åº”å¼å¸ƒå±€
- [ ] ä¸»é¢˜åˆ‡æ¢ï¼ˆå¯é€‰ï¼‰

