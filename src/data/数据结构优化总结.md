# æ•°æ®ç»“æ„ä¼˜åŒ–æ€»ç»“

## ğŸ“‹ æ‰§è¡Œçš„å®¡æŸ¥æŒ‡ä»¤

æ ¹æ® `moocå¯¹è±¡å®¡æŸ¥.md` ä¸­çš„æ‰¹æ³¨ï¼Œæ‰§è¡Œäº†ä»¥ä¸‹ä¼˜åŒ–ï¼š

---

## âœ… å·²åˆ é™¤çš„å†—ä½™å­—æ®µ

### 1. Evidence æ¥å£
- âŒ åˆ é™¤ `thumbnail?: string` - å‰ç«¯å¯æ ¹æ®æ—¶é—´æˆ³è‡ªè¡Œæˆªå›¾

### 2. ModalityFusion æ¥å£ï¼ˆå¤§å¹…ç²¾ç®€ï¼‰
**åˆ é™¤å­—æ®µï¼š**
- âŒ `videoWeight, audioWeight, textWeight` - å·²å¼ƒç”¨ï¼Œä¸å†ä¿ç•™å…¼å®¹
- âŒ `fusionFormula` - å‰ç«¯è‡ªè¡Œç”Ÿæˆ
- âŒ `videoEvidenceCount, audioEvidenceCount, textEvidenceCount` - å‰ç«¯ç»Ÿè®¡
- âŒ `resultType, resultLabel, resultValue` - é€šè¿‡é”®ååˆ¤æ–­ï¼Œæ— éœ€å­—æ®µ
- âŒ `statistics` - ç»Ÿè®¡æ•°æ®ä»evidencesè®¡ç®—

**ä¿ç•™å­—æ®µï¼š**
- âœ… `videoScore, audioScore, textScore` - Pythonç»™å‡º
- âœ… `videoContribution, audioContribution, textContribution` - Pythonç»™å‡º
- âœ… `finalScore` - Pythonç»™å‡º

### 3. IdentityAnalysis æ¥å£
- âŒ åˆ é™¤ `confidence: number` - ä» `modalityFusion.finalScore` è·å–

### 4. UniversityAnalysis æ¥å£
- âŒ åˆ é™¤ `logoConfidence: number` - ä» `modalityFusion.finalScore` è·å–

### 5. TopicAnalysis æ¥å£
- âŒ åˆ é™¤ `keyTopics: string[]` - æœªä½¿ç”¨

### 6. AttitudeAnalysis æ¥å£ï¼ˆç»Ÿè®¡åˆ†ç±»ï¼‰
- âŒ åˆ é™¤ `sentimentIntensity` - å¯ä»è¯æ®ç»Ÿè®¡
- âŒ åˆ é™¤ `schoolMentionCount` - å¯ä»è¯æ®ç»Ÿè®¡
- âŒ åˆ é™¤ `negativeMentionCount` - å¯ä»è¯æ®ç»Ÿè®¡
- âŒ åˆ é™¤ `statistics: StatisticsData` - å¯ä»è¯æ®ç»Ÿè®¡
- âŒ åˆ é™¤ `modalityFusion` - ç»Ÿè®¡åˆ†ç±»ä¸ä½¿ç”¨èåˆæ•°æ®

---

## ğŸ”§ å‰ç«¯ä»£ç é€‚é…

### Analysis.vue ä¿®æ”¹

#### 1. æ·»åŠ ç»Ÿè®¡è®¡ç®—å‡½æ•°
```typescript
// è®¡ç®—attitudeçš„ç»Ÿè®¡æ•°æ®ï¼ˆå‰ç«¯ç»Ÿè®¡ï¼‰
const attitudeStatistics = computed(() => {
  const evidences = mockAnalysisResult.attitude.evidences
  const positive = evidences.filter(e => e.sentiment === 'positive').length
  const neutral = evidences.filter(e => e.sentiment === 'neutral').length
  const negative = evidences.filter(e => e.sentiment === 'negative').length
  const total = evidences.length
  return { positive, neutral, negative, total }
})
```

#### 2. æ·»åŠ è¾…åŠ©å‡½æ•°
```typescript
// æ ¹æ®cardIdè·å–ç»“æœæ ‡ç­¾
const getResultLabel = (cardId: string): string => {
  const labels = {
    'identity': 'è¯†åˆ«ç½®ä¿¡åº¦',
    'university': 'å…³è”ç½®ä¿¡åº¦',
    'topic': 'ä¸»é¢˜ç½®ä¿¡åº¦',
    'opinionRisk': 'é£é™©æŒ‡æ•°',
    'action': 'ç´§æ€¥ç¨‹åº¦'
  }
  return labels[cardId] || 'ç½®ä¿¡åº¦'
}

// å‰ç«¯ç”Ÿæˆèåˆå…¬å¼
const getFusionFormula = (fusion: ModalityFusion | null): string => {
  if (!fusion) return ''
  return `è§†é¢‘${fusion.videoContribution.toFixed(1)} + éŸ³é¢‘${fusion.audioContribution.toFixed(1)} + æ–‡æœ¬${fusion.textContribution.toFixed(1)}`
}
```

#### 3. ä¿®æ”¹æ•°æ®å¼•ç”¨
- `mockIdentityAnalysis.confidence` â†’ `mockIdentityAnalysis.modalityFusion.finalScore`
- `mockUniversityBaseline.logoConfidence` â†’ `mockUniversityBaseline.modalityFusion.finalScore`
- `attitude.statistics.negative` â†’ `attitudeStatistics.value.negative`
- `currentFusion.resultType !== 'statistics'` â†’ `!isStatisticsCard`
- `currentFusion.videoEvidenceCount` â†’ `videoEvidences.length`ï¼ˆå‰ç«¯ç»Ÿè®¡ï¼‰

### ReportView.vue ä¿®æ”¹

#### 1. æ·»åŠ è¾…åŠ©å‡½æ•°
```typescript
// æ ¹æ®cardKeyè·å–ç»“æœæ ‡ç­¾
const getResultLabel = (cardKey: string): string

// å‰ç«¯ç”Ÿæˆèåˆå…¬å¼
const getFusionFormula = (cardKey: string): string

// ç»Ÿè®¡evidencesä¸­å„æ¨¡æ€çš„æ•°é‡
const getModalityEvidenceCount = (cardKey: string, modalityType): number

// ç»Ÿè®¡attitudeçš„æƒ…æ„Ÿæ•°æ®
const getAttitudeStatistics = ()
```

#### 2. ä¿®æ”¹æ•°æ®å¼•ç”¨
- `analysisData.identity.confidence` â†’ `analysisData.identity.modalityFusion.finalScore`
- `analysisData.university.logoConfidence` â†’ `analysisData.university.modalityFusion.finalScore`
- `analysisData.attitude.statistics` â†’ `getAttitudeStatistics()`
- `modalityFusion.resultType === 'statistics'` â†’ `cardKey === 'attitude'`
- `modalityFusion.videoEvidenceCount` â†’ `getModalityEvidenceCount(cardKey, 'video')`

---

## ğŸ“Š ä¼˜åŒ–åçš„æ•°æ®ç»“æ„

### åŠ æƒèåˆåˆ†ç±»ï¼ˆidentity, university, topic, opinionRisk, actionï¼‰

```typescript
{
  identityLabel: string,
  evidences: Evidence[],
  modalityFusion: {
    videoScore: number,
    audioScore: number,
    textScore: number,
    videoContribution: number,
    audioContribution: number,
    textContribution: number,
    finalScore: number
  }
}
```

### ç»Ÿè®¡åˆ†ç±»ï¼ˆattitudeï¼‰

```typescript
{
  sentimentTowardSchool: 'positive' | 'neutral' | 'negative',
  sentimentLabel: string,
  evidences: Evidence[]  // å‰ç«¯ç»Ÿè®¡æƒ…æ„Ÿåˆ†å¸ƒ
}
```

---

## ğŸ¯ ä¼˜åŒ–æ•ˆæœ

1. **æ•°æ®ç²¾ç®€**ï¼šåˆ é™¤äº†çº¦60%çš„å†—ä½™å­—æ®µ
2. **èŒè´£æ¸…æ™°**ï¼šPythonè´Ÿè´£æ ¸å¿ƒç®—æ³•ï¼Œå‰ç«¯è´Ÿè´£UIç»Ÿè®¡
3. **æ˜“äºç»´æŠ¤**ï¼šå­—æ®µæ›´å°‘ï¼Œé€»è¾‘æ›´æ¸…æ™°
4. **ç±»å‹å®‰å…¨**ï¼šTypeScriptç±»å‹æ›´ä¸¥æ ¼

---

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **å‘åå…¼å®¹**ï¼šå·²å®Œå…¨åˆ é™¤æ—§å­—æ®µï¼Œå¦‚éœ€å›æ»šéœ€é‡æ–°æ·»åŠ 
2. **Pythonæ¥å£**ï¼šåç«¯éœ€åŒæ­¥åˆ é™¤ç›¸åº”å­—æ®µ
3. **å‰ç«¯ç»Ÿè®¡**ï¼šattitudeçš„æ‰€æœ‰ç»Ÿè®¡æ•°æ®ç°åœ¨ç”±å‰ç«¯å®æ—¶è®¡ç®—
4. **è¯æ®è®¡æ•°**ï¼šæ‰€æœ‰æ¨¡æ€çš„è¯æ®æ•°é‡ç”±å‰ç«¯ä»evidencesæ•°ç»„ç»Ÿè®¡

---

ç”Ÿæˆæ—¶é—´ï¼š{{ new Date().toISOString() }}
